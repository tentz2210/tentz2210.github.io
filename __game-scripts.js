var PlayFabClientScript=pc.createScript("playfabClientScript"),PlayFab=void 0!==PlayFab?PlayFab:{};PlayFab.settings||(PlayFab.settings={titleId:"94A5F",developerSecretKey:null,GlobalHeaderInjection:null,productionServerUrl:".playfabapi.com"}),PlayFab._internalSettings||(PlayFab._internalSettings={entityToken:null,sdkVersion:"1.147.230623",requestGetParams:{sdk:"JavaScriptSDK-1.147.230623"},sessionTicket:null,verticalName:null,errorTitleId:"Must be have PlayFab.settings.titleId set to call this method",errorLoggedIn:"Must be logged in to call this method",errorEntityToken:"You must successfully call GetEntityToken before calling this",errorSecretKey:"Must have PlayFab.settings.developerSecretKey set to call this method",GetServerUrl:function(){return"http"!==PlayFab.settings.productionServerUrl.substring(0,4)?PlayFab._internalSettings.verticalName?"https://"+PlayFab._internalSettings.verticalName+PlayFab.settings.productionServerUrl:"https://"+PlayFab.settings.titleId+PlayFab.settings.productionServerUrl:PlayFab.settings.productionServerUrl},InjectHeaders:function(t,e){if(e)for(var n in e)try{t.setRequestHeader(gHeaderKey,e[n])}catch(t){console.log("Failed to append header: "+n+" = "+e[n]+"Error: "+t)}},ExecuteRequest:function(t,e,n,i,a,r,l){return new Promise((function(o,u){if(null!=a&&"function"!=typeof a)throw"Callback must be null or a function";null==e&&(e={});var s=new Date,c=JSON.stringify(e),y=[t],P=PlayFab._internalSettings.requestGetParams;if(null!=P){var p=!0;for(var S in P)p?(y.push("?"),p=!1):y.push("&"),y.push(S),y.push("="),y.push(P[S])}var d=y.join(""),g=new XMLHttpRequest;g.open("POST",d,!0),g.setRequestHeader("Content-Type","application/json"),g.setRequestHeader("X-PlayFabSDK","JavaScriptSDK-"+PlayFab._internalSettings.sdkVersion),null!=n&&g.setRequestHeader(n,i),PlayFab._internalSettings.InjectHeaders(g,PlayFab.settings.GlobalHeaderInjection),PlayFab._internalSettings.InjectHeaders(g,l),g.onloadend=function(){if(null!=a){var t=PlayFab._internalSettings.GetPlayFabResponse(e,g,s,r);200===t.code?a(t,null):a(null,t)}},g.onerror=function(){if(null!=a){var t=PlayFab._internalSettings.GetPlayFabResponse(e,g,s,r);a(null,t)}},g.send(c),g.onreadystatechange=function(){if(4===this.readyState){var t=PlayFab._internalSettings.GetPlayFabResponse(e,this,s,r);200===this.status?o(t):u(t)}}}))},GetPlayFabResponse:function(t,e,n,i){var a=null;try{a=JSON.parse(e.responseText)}catch(t){a={code:503,status:"Service Unavailable",error:"Connection error",errorCode:2,errorMessage:e.responseText}}return a.CallBackTimeMS=new Date-n,a.Request=t,a.CustomData=i,a},authenticationContext:{PlayFabId:null,EntityId:null,EntityType:null,SessionTicket:null,EntityToken:null},UpdateAuthenticationContext:function(t,e){var n={};return null!==e.data.PlayFabId&&(PlayFab._internalSettings.authenticationContext.PlayFabId=e.data.PlayFabId,n.PlayFabId=e.data.PlayFabId),null!==e.data.SessionTicket&&(PlayFab._internalSettings.authenticationContext.SessionTicket=e.data.SessionTicket,n.SessionTicket=e.data.SessionTicket),null!==e.data.EntityToken&&(PlayFab._internalSettings.authenticationContext.EntityId=e.data.EntityToken.Entity.Id,n.EntityId=e.data.EntityToken.Entity.Id,PlayFab._internalSettings.authenticationContext.EntityType=e.data.EntityToken.Entity.Type,n.EntityType=e.data.EntityToken.Entity.Type,PlayFab._internalSettings.authenticationContext.EntityToken=e.data.EntityToken.EntityToken,n.EntityToken=e.data.EntityToken.EntityToken),t=Object.assign(t,n)},AuthInfoMap:{"X-EntityToken":{authAttr:"entityToken",authError:"errorEntityToken"},"X-Authorization":{authAttr:"sessionTicket",authError:"errorLoggedIn"},"X-SecretKey":{authAttr:"developerSecretKey",authError:"errorSecretKey"}},GetAuthInfo:function(t,e){var n=PlayFab._internalSettings.AuthInfoMap[e].authError,i=PlayFab._internalSettings.AuthInfoMap[e].authAttr,a=null;return"entityToken"===i?a=PlayFab._internalSettings.entityToken:"sessionTicket"===i?a=PlayFab._internalSettings.sessionTicket:"developerSecretKey"===i&&(a=PlayFab.settings.developerSecretKey),{authKey:e,authValue:t.AuthenticationContext?t.AuthenticationContext[i]:a,authError:n}},ExecuteRequestWrapper:function(t,e,n,i,a,r){var l=null;if(null!==n){var o=PlayFab._internalSettings.GetAuthInfo(e,n),u=(n=o.authKey,l=o.authValue,o.authError);if(!l)throw u}return PlayFab._internalSettings.ExecuteRequest(PlayFab._internalSettings.GetServerUrl()+t,e,n,l,i,a,r)}}),PlayFab.buildIdentifier="adobuild_javascriptsdk_114",PlayFab.sdkVersion="1.147.230623",PlayFab.GenerateErrorReport=function(t){if(null==t)return"";var e=t.errorMessage;for(var n in t.errorDetails)for(var i in t.errorDetails[n])e+="\n"+n+": "+t.errorDetails[n][i];return e},PlayFab.ClientApi={IsClientLoggedIn:function(){return null!=PlayFab._internalSettings.sessionTicket&&PlayFab._internalSettings.sessionTicket.length>0},ForgetAllCredentials:function(){PlayFab._internalSettings.sessionTicket=null,PlayFab._internalSettings.entityToken=null},AcceptTrade:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/AcceptTrade",t,"X-Authorization",e,n,i)},AddFriend:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/AddFriend",t,"X-Authorization",e,n,i)},AddGenericID:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/AddGenericID",t,"X-Authorization",e,n,i)},AddOrUpdateContactEmail:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/AddOrUpdateContactEmail",t,"X-Authorization",e,n,i)},AddSharedGroupMembers:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/AddSharedGroupMembers",t,"X-Authorization",e,n,i)},AddUsernamePassword:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/AddUsernamePassword",t,"X-Authorization",e,n,i)},AddUserVirtualCurrency:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/AddUserVirtualCurrency",t,"X-Authorization",e,n,i)},AndroidDevicePushNotificationRegistration:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/AndroidDevicePushNotificationRegistration",t,"X-Authorization",e,n,i)},AttributeInstall:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/AttributeInstall",t,"X-Authorization",e,n,i)},CancelTrade:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/CancelTrade",t,"X-Authorization",e,n,i)},ConfirmPurchase:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/ConfirmPurchase",t,"X-Authorization",e,n,i)},ConsumeItem:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/ConsumeItem",t,"X-Authorization",e,n,i)},ConsumeMicrosoftStoreEntitlements:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/ConsumeMicrosoftStoreEntitlements",t,"X-Authorization",e,n,i)},ConsumePS5Entitlements:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/ConsumePS5Entitlements",t,"X-Authorization",e,n,i)},ConsumePSNEntitlements:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/ConsumePSNEntitlements",t,"X-Authorization",e,n,i)},ConsumeXboxEntitlements:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/ConsumeXboxEntitlements",t,"X-Authorization",e,n,i)},CreateSharedGroup:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/CreateSharedGroup",t,"X-Authorization",e,n,i)},ExecuteCloudScript:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/ExecuteCloudScript",t,"X-Authorization",e,n,i)},GetAccountInfo:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetAccountInfo",t,"X-Authorization",e,n,i)},GetAdPlacements:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetAdPlacements",t,"X-Authorization",e,n,i)},GetAllUsersCharacters:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetAllUsersCharacters",t,"X-Authorization",e,n,i)},GetCatalogItems:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetCatalogItems",t,"X-Authorization",e,n,i)},GetCharacterData:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetCharacterData",t,"X-Authorization",e,n,i)},GetCharacterInventory:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetCharacterInventory",t,"X-Authorization",e,n,i)},GetCharacterLeaderboard:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetCharacterLeaderboard",t,"X-Authorization",e,n,i)},GetCharacterReadOnlyData:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetCharacterReadOnlyData",t,"X-Authorization",e,n,i)},GetCharacterStatistics:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetCharacterStatistics",t,"X-Authorization",e,n,i)},GetContentDownloadUrl:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetContentDownloadUrl",t,"X-Authorization",e,n,i)},GetCurrentGames:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetCurrentGames",t,"X-Authorization",e,n,i)},GetFriendLeaderboard:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetFriendLeaderboard",t,"X-Authorization",e,n,i)},GetFriendLeaderboardAroundPlayer:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetFriendLeaderboardAroundPlayer",t,"X-Authorization",e,n,i)},GetFriendsList:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetFriendsList",t,"X-Authorization",e,n,i)},GetGameServerRegions:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetGameServerRegions",t,"X-Authorization",e,n,i)},GetLeaderboard:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetLeaderboard",t,"X-Authorization",e,n,i)},GetLeaderboardAroundCharacter:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetLeaderboardAroundCharacter",t,"X-Authorization",e,n,i)},GetLeaderboardAroundPlayer:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetLeaderboardAroundPlayer",t,"X-Authorization",e,n,i)},GetLeaderboardForUserCharacters:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetLeaderboardForUserCharacters",t,"X-Authorization",e,n,i)},GetPaymentToken:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetPaymentToken",t,"X-Authorization",e,n,i)},GetPhotonAuthenticationToken:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetPhotonAuthenticationToken",t,"X-Authorization",e,n,i)},GetPlayerCombinedInfo:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetPlayerCombinedInfo",t,"X-Authorization",e,n,i)},GetPlayerProfile:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetPlayerProfile",t,"X-Authorization",e,n,i)},GetPlayerSegments:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetPlayerSegments",t,"X-Authorization",e,n,i)},GetPlayerStatistics:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetPlayerStatistics",t,"X-Authorization",e,n,i)},GetPlayerStatisticVersions:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetPlayerStatisticVersions",t,"X-Authorization",e,n,i)},GetPlayerTags:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetPlayerTags",t,"X-Authorization",e,n,i)},GetPlayerTrades:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetPlayerTrades",t,"X-Authorization",e,n,i)},GetPlayFabIDsFromFacebookIDs:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromFacebookIDs",t,"X-Authorization",e,n,i)},GetPlayFabIDsFromFacebookInstantGamesIds:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromFacebookInstantGamesIds",t,"X-Authorization",e,n,i)},GetPlayFabIDsFromGameCenterIDs:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromGameCenterIDs",t,"X-Authorization",e,n,i)},GetPlayFabIDsFromGenericIDs:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromGenericIDs",t,"X-Authorization",e,n,i)},GetPlayFabIDsFromGoogleIDs:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromGoogleIDs",t,"X-Authorization",e,n,i)},GetPlayFabIDsFromGooglePlayGamesPlayerIDs:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromGooglePlayGamesPlayerIDs",t,"X-Authorization",e,n,i)},GetPlayFabIDsFromKongregateIDs:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromKongregateIDs",t,"X-Authorization",e,n,i)},GetPlayFabIDsFromNintendoServiceAccountIds:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromNintendoServiceAccountIds",t,"X-Authorization",e,n,i)},GetPlayFabIDsFromNintendoSwitchDeviceIds:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromNintendoSwitchDeviceIds",t,"X-Authorization",e,n,i)},GetPlayFabIDsFromPSNAccountIDs:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromPSNAccountIDs",t,"X-Authorization",e,n,i)},GetPlayFabIDsFromSteamIDs:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromSteamIDs",t,"X-Authorization",e,n,i)},GetPlayFabIDsFromTwitchIDs:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromTwitchIDs",t,"X-Authorization",e,n,i)},GetPlayFabIDsFromXboxLiveIDs:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetPlayFabIDsFromXboxLiveIDs",t,"X-Authorization",e,n,i)},GetPublisherData:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetPublisherData",t,"X-Authorization",e,n,i)},GetPurchase:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetPurchase",t,"X-Authorization",e,n,i)},GetSharedGroupData:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetSharedGroupData",t,"X-Authorization",e,n,i)},GetStoreItems:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetStoreItems",t,"X-Authorization",e,n,i)},GetTime:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetTime",t,"X-Authorization",e,n,i)},GetTitleData:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetTitleData",t,"X-Authorization",e,n,i)},GetTitleNews:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetTitleNews",t,"X-Authorization",e,n,i)},GetTitlePublicKey:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetTitlePublicKey",t,null,e,n,i)},GetTradeStatus:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetTradeStatus",t,"X-Authorization",e,n,i)},GetUserData:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetUserData",t,"X-Authorization",e,n,i)},GetUserInventory:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetUserInventory",t,"X-Authorization",e,n,i)},GetUserPublisherData:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetUserPublisherData",t,"X-Authorization",e,n,i)},GetUserPublisherReadOnlyData:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetUserPublisherReadOnlyData",t,"X-Authorization",e,n,i)},GetUserReadOnlyData:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GetUserReadOnlyData",t,"X-Authorization",e,n,i)},GrantCharacterToUser:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/GrantCharacterToUser",t,"X-Authorization",e,n,i)},LinkAndroidDeviceID:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LinkAndroidDeviceID",t,"X-Authorization",e,n,i)},LinkApple:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LinkApple",t,"X-Authorization",e,n,i)},LinkCustomID:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LinkCustomID",t,"X-Authorization",e,n,i)},LinkFacebookAccount:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LinkFacebookAccount",t,"X-Authorization",e,n,i)},LinkFacebookInstantGamesId:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LinkFacebookInstantGamesId",t,"X-Authorization",e,n,i)},LinkGameCenterAccount:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LinkGameCenterAccount",t,"X-Authorization",e,n,i)},LinkGoogleAccount:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LinkGoogleAccount",t,"X-Authorization",e,n,i)},LinkGooglePlayGamesServicesAccount:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LinkGooglePlayGamesServicesAccount",t,"X-Authorization",e,n,i)},LinkIOSDeviceID:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LinkIOSDeviceID",t,"X-Authorization",e,n,i)},LinkKongregate:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LinkKongregate",t,"X-Authorization",e,n,i)},LinkNintendoServiceAccount:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LinkNintendoServiceAccount",t,"X-Authorization",e,n,i)},LinkNintendoSwitchDeviceId:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LinkNintendoSwitchDeviceId",t,"X-Authorization",e,n,i)},LinkOpenIdConnect:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LinkOpenIdConnect",t,"X-Authorization",e,n,i)},LinkPSNAccount:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LinkPSNAccount",t,"X-Authorization",e,n,i)},LinkSteamAccount:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LinkSteamAccount",t,"X-Authorization",e,n,i)},LinkTwitch:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LinkTwitch",t,"X-Authorization",e,n,i)},LinkXboxAccount:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LinkXboxAccount",t,"X-Authorization",e,n,i)},LoginWithAndroidDeviceID:function(t,e,n,i){if(t.TitleId=PlayFab.settings.titleId?PlayFab.settings.titleId:t.TitleId,!t.TitleId)throw PlayFab._internalSettings.errorTitleId;var a=JSON.parse(JSON.stringify(PlayFab._internalSettings.authenticationContext));return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LoginWithAndroidDeviceID",t,null,(function(t,n){null!=t&&(null!=t.data.SessionTicket&&(PlayFab._internalSettings.sessionTicket=t.data.SessionTicket),null!=t.data.EntityToken&&(PlayFab._internalSettings.entityToken=t.data.EntityToken.EntityToken),a=PlayFab._internalSettings.UpdateAuthenticationContext(a,t)),null!=e&&"function"==typeof e&&e(t,n)}),n,i),new Promise((function(t){t(a)}))},LoginWithApple:function(t,e,n,i){if(t.TitleId=PlayFab.settings.titleId?PlayFab.settings.titleId:t.TitleId,!t.TitleId)throw PlayFab._internalSettings.errorTitleId;var a=JSON.parse(JSON.stringify(PlayFab._internalSettings.authenticationContext));return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LoginWithApple",t,null,(function(t,n){null!=t&&(null!=t.data.SessionTicket&&(PlayFab._internalSettings.sessionTicket=t.data.SessionTicket),null!=t.data.EntityToken&&(PlayFab._internalSettings.entityToken=t.data.EntityToken.EntityToken),a=PlayFab._internalSettings.UpdateAuthenticationContext(a,t)),null!=e&&"function"==typeof e&&e(t,n)}),n,i),new Promise((function(t){t(a)}))},LoginWithCustomID:function(t,e,n,i){if(t.TitleId=PlayFab.settings.titleId?PlayFab.settings.titleId:t.TitleId,!t.TitleId)throw PlayFab._internalSettings.errorTitleId;var a=JSON.parse(JSON.stringify(PlayFab._internalSettings.authenticationContext));return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LoginWithCustomID",t,null,(function(t,n){null!=t&&(null!=t.data.SessionTicket&&(PlayFab._internalSettings.sessionTicket=t.data.SessionTicket),null!=t.data.EntityToken&&(PlayFab._internalSettings.entityToken=t.data.EntityToken.EntityToken),a=PlayFab._internalSettings.UpdateAuthenticationContext(a,t)),null!=e&&"function"==typeof e&&e(t,n)}),n,i),new Promise((function(t){t(a)}))},LoginWithEmailAddress:function(t,e,n,i){if(t.TitleId=PlayFab.settings.titleId?PlayFab.settings.titleId:t.TitleId,!t.TitleId)throw PlayFab._internalSettings.errorTitleId;var a=JSON.parse(JSON.stringify(PlayFab._internalSettings.authenticationContext));return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LoginWithEmailAddress",t,null,(function(t,n){null!=t&&(null!=t.data.SessionTicket&&(PlayFab._internalSettings.sessionTicket=t.data.SessionTicket),null!=t.data.EntityToken&&(PlayFab._internalSettings.entityToken=t.data.EntityToken.EntityToken),a=PlayFab._internalSettings.UpdateAuthenticationContext(a,t)),null!=e&&"function"==typeof e&&e(t,n)}),n,i),new Promise((function(t){t(a)}))},LoginWithFacebook:function(t,e,n,i){if(t.TitleId=PlayFab.settings.titleId?PlayFab.settings.titleId:t.TitleId,!t.TitleId)throw PlayFab._internalSettings.errorTitleId;var a=JSON.parse(JSON.stringify(PlayFab._internalSettings.authenticationContext));return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LoginWithFacebook",t,null,(function(t,n){null!=t&&(null!=t.data.SessionTicket&&(PlayFab._internalSettings.sessionTicket=t.data.SessionTicket),null!=t.data.EntityToken&&(PlayFab._internalSettings.entityToken=t.data.EntityToken.EntityToken),a=PlayFab._internalSettings.UpdateAuthenticationContext(a,t)),null!=e&&"function"==typeof e&&e(t,n)}),n,i),new Promise((function(t){t(a)}))},LoginWithFacebookInstantGamesId:function(t,e,n,i){if(t.TitleId=PlayFab.settings.titleId?PlayFab.settings.titleId:t.TitleId,!t.TitleId)throw PlayFab._internalSettings.errorTitleId;var a=JSON.parse(JSON.stringify(PlayFab._internalSettings.authenticationContext));return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LoginWithFacebookInstantGamesId",t,null,(function(t,n){null!=t&&(null!=t.data.SessionTicket&&(PlayFab._internalSettings.sessionTicket=t.data.SessionTicket),null!=t.data.EntityToken&&(PlayFab._internalSettings.entityToken=t.data.EntityToken.EntityToken),a=PlayFab._internalSettings.UpdateAuthenticationContext(a,t)),null!=e&&"function"==typeof e&&e(t,n)}),n,i),new Promise((function(t){t(a)}))},LoginWithGameCenter:function(t,e,n,i){if(t.TitleId=PlayFab.settings.titleId?PlayFab.settings.titleId:t.TitleId,!t.TitleId)throw PlayFab._internalSettings.errorTitleId;var a=JSON.parse(JSON.stringify(PlayFab._internalSettings.authenticationContext));return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LoginWithGameCenter",t,null,(function(t,n){null!=t&&(null!=t.data.SessionTicket&&(PlayFab._internalSettings.sessionTicket=t.data.SessionTicket),null!=t.data.EntityToken&&(PlayFab._internalSettings.entityToken=t.data.EntityToken.EntityToken),a=PlayFab._internalSettings.UpdateAuthenticationContext(a,t)),null!=e&&"function"==typeof e&&e(t,n)}),n,i),new Promise((function(t){t(a)}))},LoginWithGoogleAccount:function(t,e,n,i){if(t.TitleId=PlayFab.settings.titleId?PlayFab.settings.titleId:t.TitleId,!t.TitleId)throw PlayFab._internalSettings.errorTitleId;var a=JSON.parse(JSON.stringify(PlayFab._internalSettings.authenticationContext));return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LoginWithGoogleAccount",t,null,(function(t,n){null!=t&&(null!=t.data.SessionTicket&&(PlayFab._internalSettings.sessionTicket=t.data.SessionTicket),null!=t.data.EntityToken&&(PlayFab._internalSettings.entityToken=t.data.EntityToken.EntityToken),a=PlayFab._internalSettings.UpdateAuthenticationContext(a,t)),null!=e&&"function"==typeof e&&e(t,n)}),n,i),new Promise((function(t){t(a)}))},LoginWithGooglePlayGamesServices:function(t,e,n,i){if(t.TitleId=PlayFab.settings.titleId?PlayFab.settings.titleId:t.TitleId,!t.TitleId)throw PlayFab._internalSettings.errorTitleId;var a=JSON.parse(JSON.stringify(PlayFab._internalSettings.authenticationContext));return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LoginWithGooglePlayGamesServices",t,null,(function(t,n){null!=t&&(null!=t.data.SessionTicket&&(PlayFab._internalSettings.sessionTicket=t.data.SessionTicket),null!=t.data.EntityToken&&(PlayFab._internalSettings.entityToken=t.data.EntityToken.EntityToken),a=PlayFab._internalSettings.UpdateAuthenticationContext(a,t)),null!=e&&"function"==typeof e&&e(t,n)}),n,i),new Promise((function(t){t(a)}))},LoginWithIOSDeviceID:function(t,e,n,i){if(t.TitleId=PlayFab.settings.titleId?PlayFab.settings.titleId:t.TitleId,!t.TitleId)throw PlayFab._internalSettings.errorTitleId;var a=JSON.parse(JSON.stringify(PlayFab._internalSettings.authenticationContext));return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LoginWithIOSDeviceID",t,null,(function(t,n){null!=t&&(null!=t.data.SessionTicket&&(PlayFab._internalSettings.sessionTicket=t.data.SessionTicket),null!=t.data.EntityToken&&(PlayFab._internalSettings.entityToken=t.data.EntityToken.EntityToken),a=PlayFab._internalSettings.UpdateAuthenticationContext(a,t)),null!=e&&"function"==typeof e&&e(t,n)}),n,i),new Promise((function(t){t(a)}))},LoginWithKongregate:function(t,e,n,i){if(t.TitleId=PlayFab.settings.titleId?PlayFab.settings.titleId:t.TitleId,!t.TitleId)throw PlayFab._internalSettings.errorTitleId;var a=JSON.parse(JSON.stringify(PlayFab._internalSettings.authenticationContext));return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LoginWithKongregate",t,null,(function(t,n){null!=t&&(null!=t.data.SessionTicket&&(PlayFab._internalSettings.sessionTicket=t.data.SessionTicket),null!=t.data.EntityToken&&(PlayFab._internalSettings.entityToken=t.data.EntityToken.EntityToken),a=PlayFab._internalSettings.UpdateAuthenticationContext(a,t)),null!=e&&"function"==typeof e&&e(t,n)}),n,i),new Promise((function(t){t(a)}))},LoginWithNintendoServiceAccount:function(t,e,n,i){if(t.TitleId=PlayFab.settings.titleId?PlayFab.settings.titleId:t.TitleId,!t.TitleId)throw PlayFab._internalSettings.errorTitleId;var a=JSON.parse(JSON.stringify(PlayFab._internalSettings.authenticationContext));return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LoginWithNintendoServiceAccount",t,null,(function(t,n){null!=t&&(null!=t.data.SessionTicket&&(PlayFab._internalSettings.sessionTicket=t.data.SessionTicket),null!=t.data.EntityToken&&(PlayFab._internalSettings.entityToken=t.data.EntityToken.EntityToken),a=PlayFab._internalSettings.UpdateAuthenticationContext(a,t)),null!=e&&"function"==typeof e&&e(t,n)}),n,i),new Promise((function(t){t(a)}))},LoginWithNintendoSwitchDeviceId:function(t,e,n,i){if(t.TitleId=PlayFab.settings.titleId?PlayFab.settings.titleId:t.TitleId,!t.TitleId)throw PlayFab._internalSettings.errorTitleId;var a=JSON.parse(JSON.stringify(PlayFab._internalSettings.authenticationContext));return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LoginWithNintendoSwitchDeviceId",t,null,(function(t,n){null!=t&&(null!=t.data.SessionTicket&&(PlayFab._internalSettings.sessionTicket=t.data.SessionTicket),null!=t.data.EntityToken&&(PlayFab._internalSettings.entityToken=t.data.EntityToken.EntityToken),a=PlayFab._internalSettings.UpdateAuthenticationContext(a,t)),null!=e&&"function"==typeof e&&e(t,n)}),n,i),new Promise((function(t){t(a)}))},LoginWithOpenIdConnect:function(t,e,n,i){if(t.TitleId=PlayFab.settings.titleId?PlayFab.settings.titleId:t.TitleId,!t.TitleId)throw PlayFab._internalSettings.errorTitleId;var a=JSON.parse(JSON.stringify(PlayFab._internalSettings.authenticationContext));return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LoginWithOpenIdConnect",t,null,(function(t,n){null!=t&&(null!=t.data.SessionTicket&&(PlayFab._internalSettings.sessionTicket=t.data.SessionTicket),null!=t.data.EntityToken&&(PlayFab._internalSettings.entityToken=t.data.EntityToken.EntityToken),a=PlayFab._internalSettings.UpdateAuthenticationContext(a,t)),null!=e&&"function"==typeof e&&e(t,n)}),n,i),new Promise((function(t){t(a)}))},LoginWithPlayFab:function(t,e,n,i){if(t.TitleId=PlayFab.settings.titleId?PlayFab.settings.titleId:t.TitleId,!t.TitleId)throw PlayFab._internalSettings.errorTitleId;var a=JSON.parse(JSON.stringify(PlayFab._internalSettings.authenticationContext));return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LoginWithPlayFab",t,null,(function(t,n){null!=t&&(null!=t.data.SessionTicket&&(PlayFab._internalSettings.sessionTicket=t.data.SessionTicket),null!=t.data.EntityToken&&(PlayFab._internalSettings.entityToken=t.data.EntityToken.EntityToken),a=PlayFab._internalSettings.UpdateAuthenticationContext(a,t)),null!=e&&"function"==typeof e&&e(t,n)}),n,i),new Promise((function(t){t(a)}))},LoginWithPSN:function(t,e,n,i){if(t.TitleId=PlayFab.settings.titleId?PlayFab.settings.titleId:t.TitleId,!t.TitleId)throw PlayFab._internalSettings.errorTitleId;var a=JSON.parse(JSON.stringify(PlayFab._internalSettings.authenticationContext));return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LoginWithPSN",t,null,(function(t,n){null!=t&&(null!=t.data.SessionTicket&&(PlayFab._internalSettings.sessionTicket=t.data.SessionTicket),null!=t.data.EntityToken&&(PlayFab._internalSettings.entityToken=t.data.EntityToken.EntityToken),a=PlayFab._internalSettings.UpdateAuthenticationContext(a,t)),null!=e&&"function"==typeof e&&e(t,n)}),n,i),new Promise((function(t){t(a)}))},LoginWithSteam:function(t,e,n,i){if(t.TitleId=PlayFab.settings.titleId?PlayFab.settings.titleId:t.TitleId,!t.TitleId)throw PlayFab._internalSettings.errorTitleId;var a=JSON.parse(JSON.stringify(PlayFab._internalSettings.authenticationContext));return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LoginWithSteam",t,null,(function(t,n){null!=t&&(null!=t.data.SessionTicket&&(PlayFab._internalSettings.sessionTicket=t.data.SessionTicket),null!=t.data.EntityToken&&(PlayFab._internalSettings.entityToken=t.data.EntityToken.EntityToken),a=PlayFab._internalSettings.UpdateAuthenticationContext(a,t)),null!=e&&"function"==typeof e&&e(t,n)}),n,i),new Promise((function(t){t(a)}))},LoginWithTwitch:function(t,e,n,i){if(t.TitleId=PlayFab.settings.titleId?PlayFab.settings.titleId:t.TitleId,!t.TitleId)throw PlayFab._internalSettings.errorTitleId;var a=JSON.parse(JSON.stringify(PlayFab._internalSettings.authenticationContext));return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LoginWithTwitch",t,null,(function(t,n){null!=t&&(null!=t.data.SessionTicket&&(PlayFab._internalSettings.sessionTicket=t.data.SessionTicket),null!=t.data.EntityToken&&(PlayFab._internalSettings.entityToken=t.data.EntityToken.EntityToken),a=PlayFab._internalSettings.UpdateAuthenticationContext(a,t)),null!=e&&"function"==typeof e&&e(t,n)}),n,i),new Promise((function(t){t(a)}))},LoginWithXbox:function(t,e,n,i){if(t.TitleId=PlayFab.settings.titleId?PlayFab.settings.titleId:t.TitleId,!t.TitleId)throw PlayFab._internalSettings.errorTitleId;var a=JSON.parse(JSON.stringify(PlayFab._internalSettings.authenticationContext));return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/LoginWithXbox",t,null,(function(t,n){null!=t&&(null!=t.data.SessionTicket&&(PlayFab._internalSettings.sessionTicket=t.data.SessionTicket),null!=t.data.EntityToken&&(PlayFab._internalSettings.entityToken=t.data.EntityToken.EntityToken),a=PlayFab._internalSettings.UpdateAuthenticationContext(a,t)),null!=e&&"function"==typeof e&&e(t,n)}),n,i),new Promise((function(t){t(a)}))},Matchmake:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/Matchmake",t,"X-Authorization",e,n,i)},OpenTrade:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/OpenTrade",t,"X-Authorization",e,n,i)},PayForPurchase:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/PayForPurchase",t,"X-Authorization",e,n,i)},PurchaseItem:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/PurchaseItem",t,"X-Authorization",e,n,i)},RedeemCoupon:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/RedeemCoupon",t,"X-Authorization",e,n,i)},RefreshPSNAuthToken:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/RefreshPSNAuthToken",t,"X-Authorization",e,n,i)},RegisterForIOSPushNotification:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/RegisterForIOSPushNotification",t,"X-Authorization",e,n,i)},RegisterPlayFabUser:function(t,e,n,i){if(t.TitleId=PlayFab.settings.titleId?PlayFab.settings.titleId:t.TitleId,!t.TitleId)throw PlayFab._internalSettings.errorTitleId;JSON.parse(JSON.stringify(PlayFab._internalSettings.authenticationContext));return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/RegisterPlayFabUser",t,null,(function(t,n){null!=t&&null!=t.data.SessionTicket&&(PlayFab._internalSettings.sessionTicket=t.data.SessionTicket),null!=e&&"function"==typeof e&&e(t,n)}),n,i)},RemoveContactEmail:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/RemoveContactEmail",t,"X-Authorization",e,n,i)},RemoveFriend:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/RemoveFriend",t,"X-Authorization",e,n,i)},RemoveGenericID:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/RemoveGenericID",t,"X-Authorization",e,n,i)},RemoveSharedGroupMembers:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/RemoveSharedGroupMembers",t,"X-Authorization",e,n,i)},ReportAdActivity:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/ReportAdActivity",t,"X-Authorization",e,n,i)},ReportDeviceInfo:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/ReportDeviceInfo",t,"X-Authorization",e,n,i)},ReportPlayer:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/ReportPlayer",t,"X-Authorization",e,n,i)},RestoreIOSPurchases:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/RestoreIOSPurchases",t,"X-Authorization",e,n,i)},RewardAdActivity:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/RewardAdActivity",t,"X-Authorization",e,n,i)},SendAccountRecoveryEmail:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/SendAccountRecoveryEmail",t,null,e,n,i)},SetFriendTags:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/SetFriendTags",t,"X-Authorization",e,n,i)},SetPlayerSecret:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/SetPlayerSecret",t,"X-Authorization",e,n,i)},StartPurchase:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/StartPurchase",t,"X-Authorization",e,n,i)},SubtractUserVirtualCurrency:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/SubtractUserVirtualCurrency",t,"X-Authorization",e,n,i)},UnlinkAndroidDeviceID:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/UnlinkAndroidDeviceID",t,"X-Authorization",e,n,i)},UnlinkApple:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/UnlinkApple",t,"X-Authorization",e,n,i)},UnlinkCustomID:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/UnlinkCustomID",t,"X-Authorization",e,n,i)},UnlinkFacebookAccount:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/UnlinkFacebookAccount",t,"X-Authorization",e,n,i)},UnlinkFacebookInstantGamesId:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/UnlinkFacebookInstantGamesId",t,"X-Authorization",e,n,i)},UnlinkGameCenterAccount:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/UnlinkGameCenterAccount",t,"X-Authorization",e,n,i)},UnlinkGoogleAccount:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/UnlinkGoogleAccount",t,"X-Authorization",e,n,i)},UnlinkGooglePlayGamesServicesAccount:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/UnlinkGooglePlayGamesServicesAccount",t,"X-Authorization",e,n,i)},UnlinkIOSDeviceID:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/UnlinkIOSDeviceID",t,"X-Authorization",e,n,i)},UnlinkKongregate:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/UnlinkKongregate",t,"X-Authorization",e,n,i)},UnlinkNintendoServiceAccount:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/UnlinkNintendoServiceAccount",t,"X-Authorization",e,n,i)},UnlinkNintendoSwitchDeviceId:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/UnlinkNintendoSwitchDeviceId",t,"X-Authorization",e,n,i)},UnlinkOpenIdConnect:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/UnlinkOpenIdConnect",t,"X-Authorization",e,n,i)},UnlinkPSNAccount:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/UnlinkPSNAccount",t,"X-Authorization",e,n,i)},UnlinkSteamAccount:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/UnlinkSteamAccount",t,"X-Authorization",e,n,i)},UnlinkTwitch:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/UnlinkTwitch",t,"X-Authorization",e,n,i)},UnlinkXboxAccount:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/UnlinkXboxAccount",t,"X-Authorization",e,n,i)},UnlockContainerInstance:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/UnlockContainerInstance",t,"X-Authorization",e,n,i)},UnlockContainerItem:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/UnlockContainerItem",t,"X-Authorization",e,n,i)},UpdateAvatarUrl:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/UpdateAvatarUrl",t,"X-Authorization",e,n,i)},UpdateCharacterData:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/UpdateCharacterData",t,"X-Authorization",e,n,i)},UpdateCharacterStatistics:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/UpdateCharacterStatistics",t,"X-Authorization",e,n,i)},UpdatePlayerStatistics:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/UpdatePlayerStatistics",t,"X-Authorization",e,n,i)},UpdateSharedGroupData:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/UpdateSharedGroupData",t,"X-Authorization",e,n,i)},UpdateUserData:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/UpdateUserData",t,"X-Authorization",e,n,i)},UpdateUserPublisherData:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/UpdateUserPublisherData",t,"X-Authorization",e,n,i)},UpdateUserTitleDisplayName:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/UpdateUserTitleDisplayName",t,"X-Authorization",e,n,i)},ValidateAmazonIAPReceipt:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/ValidateAmazonIAPReceipt",t,"X-Authorization",e,n,i)},ValidateGooglePlayPurchase:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/ValidateGooglePlayPurchase",t,"X-Authorization",e,n,i)},ValidateIOSReceipt:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/ValidateIOSReceipt",t,"X-Authorization",e,n,i)},ValidateWindowsStoreReceipt:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/ValidateWindowsStoreReceipt",t,"X-Authorization",e,n,i)},WriteCharacterEvent:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/WriteCharacterEvent",t,"X-Authorization",e,n,i)},WritePlayerEvent:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/WritePlayerEvent",t,"X-Authorization",e,n,i)},WriteTitleEvent:function(t,e,n,i){return PlayFab._internalSettings.ExecuteRequestWrapper("/Client/WriteTitleEvent",t,"X-Authorization",e,n,i)}};var PlayFabClientSDK=PlayFab.ClientApi;PlayFab.RegisterWithPhaser=function(){"undefined"!=typeof Phaser&&void 0!==Phaser.Plugin&&(Phaser.Plugin.PlayFab=function(t,e){Phaser.Plugin.call(this,t,e)},Phaser.Plugin.PlayFab.prototype=Object.create(Phaser.Plugin.prototype),Phaser.Plugin.PlayFab.prototype.constructor=Phaser.Plugin.PlayFab,Phaser.Plugin.PlayFab.prototype.PlayFab=PlayFab,Phaser.Plugin.PlayFab.prototype.settings=PlayFab.settings,Phaser.Plugin.PlayFab.prototype.ClientApi=PlayFab.ClientApi)},PlayFab.RegisterWithPhaser();var Constants=pc.createScript("constants");const COLS=10,ROWS=20,LINES_PER_LEVEL=10;"use strict";var Piece=pc.createScript("piece");Piece.attributes.add("textures",{type:"asset",assetType:"texture",array:!0,title:"Textures"});var pieceSelf,entP=null,nextEnt=null;const SHAPES=[[],[[0,0,0,0],[2,2,2,2],[0,0,0,0],[0,0,0,0]],[[1,0,0],[1,1,1],[0,0,0]],[[0,0,3],[3,3,3],[0,0,0]],[[2,2],[2,2]],[[0,1,1],[1,1,0],[0,0,0]],[[0,3,0],[3,3,3],[0,0,0]],[[2,2,0],[0,2,2],[0,0,0]],[[1,0],[1,1]],[[0,2],[2,2]],[[0,0,0],[3,3,3],[0,0,0]]],KEY={ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,P:80,Q:81},ROTATION={LEFT:"left",RIGHT:"right"},POINTS={SINGLE:100,DOUBLE:300,TRIPLE:500,TETRIS:800,SOFT_DROP:1,HARD_DROP:2},LEVEL={0:800,1:720,2:630,3:550,4:470,5:380,6:300,7:220,8:130,9:100,10:80,11:80,12:80,13:70,14:70,15:70,16:50,17:50,18:50,19:30,20:30};class TPiece{constructor(e){this.isNext=e,this.spawn()}spawn(){this.typeId=this.randomizeTetrominoType(SHAPES.length-1),this.shape=SHAPES[this.typeId],this.color=new pc.Color(255,0,0),this.x=0,this.y=0,this.hardDropped=!1}draw(){this.isNext&&this.clearNext(),this.shape.forEach(((e,t)=>{e.forEach(((e,i)=>{this.isNext?e>0&&(nextEnt.findByPath(["R"+t,i.toString()]).element.texture=pieceSelf.textures[e].resource):e>0&&(entP.findByPath(["R"+(this.y+t),(this.x+i).toString()]).element.texture=pieceSelf.textures[e].resource,entP.findByPath(["R"+(this.y+t),(this.x+i).toString()]).element.opacity=1)}))}))}clearNext(){nextEnt.forEach((function(e){e.element&&(e.element.texture=pieceSelf.textures[0].resource)}))}move(e){this.hardDropped||(this.x=e.x,this.y=e.y),this.shape=e.shape}hardDrop(){this.hardDropped=!0}setStartingPosition(){this.x=4===this.typeId?4:3}randomizeTetrominoType(e){return Math.floor(Math.random()*e+1)}}[SHAPES,KEY,ROTATION,LEVEL,POINTS].forEach((e=>Object.freeze(e))),Piece.prototype.initialize=function(){entP=this.entity,nextEnt=this.entity.parent.findByName("NextBoard"),pieceSelf=this},Piece.prototype.update=function(e){};var Board=pc.createScript("board"),nextEnt=null;Board.prototype.initialize=function(){nextEnt=this.entity.parent.findByName("NextBoard"),console.log(nextEnt.element.color),console.log(this.entity.findByPath("R1/2").name)},Board.prototype.update=function(t){};var Main=pc.createScript("main");Main.attributes.add("menuEntity",{type:"entity"}),Main.attributes.add("fadeOutElement",{type:"entity"});var refToSelf,ent,startTimeStamp,gui=this.entity,showTetrisPrompt=!1;let accountValues={score:0,level:0,lines:0};function updateAccount(e,t){let i=gui.findByName(e+"Label");console.log(e+"Label"),i&&(i.element.text=t)}let account=new Proxy(accountValues,{set:(e,t,i)=>(e[t]=i,updateAccount(t,i),!0)}),time=null;const moves={[pc.KEY_LEFT]:e=>({...e,x:e.x-1}),[pc.KEY_RIGHT]:e=>({...e,x:e.x+1}),[pc.KEY_DOWN]:e=>({...e,y:e.y+1}),[pc.KEY_SPACE]:e=>({...e,y:e.y+1}),[pc.KEY_UP]:e=>board.rotate(e,ROTATION.RIGHT),[pc.KEY_Q]:e=>board.rotate(e,ROTATION.LEFT)};class TBoard{reset(){this.grid=this.getEmptyGrid(),this.piece=new TPiece(!1),this.piece.setStartingPosition(),this.getNewPiece()}getNewPiece(){this.next=new TPiece(!0),this.next.draw()}draw(){this.drawBoard(),this.piece.draw()}drop(){let e=moves[KEY.DOWN](this.piece);if(this.valid(e))this.piece.move(e);else{if(this.freeze(),this.clearLines(),0===this.piece.y)return!1;this.piece=this.next,this.piece.isNext=!1,this.piece.setStartingPosition(),this.getNewPiece()}return!0}clearLines(){let e=0;this.grid.forEach(((t,i)=>{t.every((e=>e>0))&&(e++,this.grid.splice(i,1),this.grid.unshift(Array(COLS).fill(0)))})),e>0&&(3==e&&(showTetrisPrompt=!0),account.score+=this.getLinesClearedPoints(e),account.lines+=e,account.lines>=LINES_PER_LEVEL&&(account.level++,account.lines-=LINES_PER_LEVEL,time.level=LEVEL[account.level]))}valid(e){return e.shape.every(((t,i)=>t.every(((t,a)=>{let s=e.x+a,o=e.y+i;return 0===t||this.isInsideWalls(s,o)&&this.notOccupied(s,o)}))))}freeze(){this.piece.shape.forEach(((e,t)=>{e.forEach(((e,i)=>{e>0&&(this.grid[t+this.piece.y][i+this.piece.x]=e)}))}))}drawBoard(){this.grid.forEach(((e,t)=>{e.forEach(((e,i)=>{e>0?(ent.findByPath(["R"+t,i.toString()]).element.texture=pieceSelf.textures[e].resource,ent.findByPath(["R"+t,i.toString()]).element.opacity=1):(ent.findByPath(["R"+t,i.toString()]).element.texture=pieceSelf.textures[0].resource,ent.findByPath(["R"+t,i.toString()]).element.opacity=.2)}))}))}isInsideWalls(e,t){return e>=0&&e<COLS&&t<=ROWS}notOccupied(e,t){return this.grid[t]&&0===this.grid[t][e]}rotate(e,t){let i=JSON.parse(JSON.stringify(e));if(!e.hardDropped){for(let e=0;e<i.shape.length;++e)for(let t=0;t<e;++t)[i.shape[t][e],i.shape[e][t]]=[i.shape[e][t],i.shape[t][e]];t===ROTATION.RIGHT?i.shape.forEach((e=>e.reverse())):t===ROTATION.LEFT&&i.shape.reverse()}return i}getEmptyGrid(){return Array.from({length:ROWS},(()=>Array(COLS).fill(0)))}getLinesClearedPoints(e,t){const i=1===e?POINTS.SINGLE:2===e?POINTS.DOUBLE:3===e?POINTS.TRIPLE:4===e?POINTS.TETRIS:0;return(account.level+1)*i}}let board=new TBoard;var sidestepSize,hardDropSize,softDropSize,boardMiddle,isRunning=!1,paused=!1;function play(){resetGame(),gui.findByPath("PausePopup").enabled=!1,gui.findByPath("GameOverPopup").enabled=!1,setTimeout((()=>{isRunning=!0,paused=!1,startTimeStamp=Date.now()}),2e3),console.table(board.grid)}function playInstant(){resetGame(),gui.findByPath("PausePopup").enabled=!1,gui.findByPath("GameOverPopup").enabled=!1,isRunning=!0,paused=!1,startTimeStamp=Date.now()}function resetGame(){account.score=0,account.lines=0,account.level=0,board.reset(),time={start:performance.now(),elapsed:0,level:LEVEL[account.level]}}Main.prototype.initialize=function(){gui=this.entity.parent,refToSelf=this,this.menuEntity.script.menu.on("startGame",play),this.app.keyboard.on(pc.EVENT_KEYDOWN,this.onKeyDown,this),gui.findByPath("PausePopup/ExitButton").button.on("click",gameOver,this),gui.findByPath("PauseButton").button.on("click",pause,this),gui.findByPath("PausePopup/ContinueButton").button.on("click",resume,this),gui.findByPath("GameOverPopup/ExitButton").button.on("click",exitGame,this),gui.findByPath("GameOverPopup/RetryButton").button.on("click",playInstant,this),ent=this.entity;var e=this.app.touch;e&&(e.on(pc.EVENT_TOUCHEND,(function(e){e.event.preventDefault()})),this.entity.element.on("touchstart",this.onTouchStart,this),this.entity.element.on("touchmove",this.onTouchMove,this),this.entity.element.on("touchend",this.onTouchEnd,this)),this.on("destroy",(function(){}),this)},Main.prototype.update=function(e){isRunning&&!paused&&this.animate(1e3*e);var t=this.entity.element.canvasCorners,i=t[1].x-t[0].x,a=t[1].y-t[2].y;sidestepSize=i/9,hardDropSize=a/5,softDropSize=a/19,boardMiddle=(t[0].x+t[1].x)/2;this.entity.element.calculatedWidth,this.entity.element.calculatedHeight;gui.findByName("boardSizeLabel").element.text="Width: "+i+"\nHeight: "+a},Main.prototype.onKeyDown=function(e){paused||handleKeyPress(e)};var pressTimestamp,startX=0,startY=0,xDisplacement=0,yDisplacement=0,sidestepped=!1,hardDropped=!1,pressSide=0;function handleKeyPress(e){if(console.log(e.key),e.key===pc.KEY_P&&pause(),e.key===pc.KEY_ESCAPE)gameOver();else if(moves[e.key]){e.event.preventDefault();let t=moves[e.key](board.piece);if(e.key===pc.KEY_SPACE){for(;board.valid(t);)account.score+=POINTS.HARD_DROP,board.piece.move(t),t=moves[pc.KEY_DOWN](board.piece);board.piece.hardDrop()}else board.valid(t)&&(board.piece.move(t),e.key===pc.KEY_DOWN&&(account.score+=POINTS.SOFT_DROP,time.elapsed=0))}}Main.prototype.onTouchStart=function(e){paused||(e.stopPropagation(),1===e.touches.length&&(pressTimestamp=pc.now(),sidestepped=!1,hardDropped=!1,startX=e.touches[0].screenX,startY=e.touches[0].screenY,xDisplacement=0,yDisplacement=0,gui.findByName("touchLabel").element.text="X: "+e.touches[0].screenX+" Y: "+e.touches[0].screenY))},Main.prototype.onTouchMove=function(e){if(!paused){e.stopPropagation(),xDisplacement=e.touches[0].screenX-startX,yDisplacement=e.touches[0].screenY-startY,gui.findByName("touchLabel").element.text="X: "+e.touches[0].screenX+" Y: "+e.touches[0].screenY,gui.findByName("displacementLabel").element.text="X: "+xDisplacement+" Y: "+yDisplacement;var t=Math.abs(pc.now()-pressTimestamp);let i;Math.abs(xDisplacement)>sidestepSize?(sidestepped=!0,i=xDisplacement<0?moves[pc.KEY_LEFT](board.piece):moves[pc.KEY_RIGHT](board.piece),startX=e.touches[0].screenX,xDisplacement=0,board.valid(i)&&board.piece.move(i)):yDisplacement>softDropSize&&t>250&&(startY=e.touches[0].screenY,yDisplacement=0,i=moves[pc.KEY_DOWN](board.piece),board.valid(i)&&(board.piece.move(i),account.score+=POINTS.SOFT_DROP,time.elapsed=0))}},Main.prototype.onTouchEnd=function(e){if(!paused){e.stopPropagation();var t=Math.abs(pc.now()-pressTimestamp);let i;if(t<250&&!sidestepped)if(console.log("Touch ended Press time: "+t),yDisplacement>hardDropSize){for(i=moves[pc.KEY_DOWN](board.piece);board.valid(i);)account.score+=POINTS.HARD_DROP,board.piece.move(i),i=moves[pc.KEY_DOWN](board.piece);board.piece.hardDrop()}else i=startX<boardMiddle?moves[pc.KEY_Q](board.piece):moves[pc.KEY_UP](board.piece),board.valid(i)&&board.piece.move(i)}};var hardDropDB=!1;function pause(){paused=!0,gui.findByPath("PausePopup").enabled=!0}function resume(){paused=!1,gui.findByPath("PausePopup").enabled=!1}Main.prototype.animate=function(e){time.elapsed+=e,showTetrisPrompt&&(showTetrisPrompt=!1,this.app.fire("main:tetrisprompt")),board.piece.hardDropped&&!hardDropDB&&(time.elapsed=0,hardDropDB=!0),time.elapsed>time.level&&(time.elapsed=0,hardDropDB=!1,!board.drop())?gameOver():board.draw()};var elapsedTime=0;function gameOver(){isRunning=!1,elapsedTime=Math.abs(Date.now()-startTimeStamp),gui.findByPath("GameOverPopup/ScoreLabel").element.text=account.score,gui.findByPath("GameOverPopup/BricksLabel").element.text=calculateBricks(account.score),gui.findByPath("GameOverPopup").enabled=!0,gui.findByPath("PausePopup").enabled=!1;var e={Statistics:[{StatisticName:"HighScore",Value:account.score},{StatisticName:"Bricks",Value:calculateBricks(account.score)}]};PlayFabClientSDK.UpdatePlayerStatistics(e,scoreSentCallback),signalScoreUpdate(),board.reset(),board.drawBoard()}function signalScoreUpdate(){refToSelf.fire("scoreupdated")}function calculateBricks(e){return Math.floor(e/5e3)}function exitGame(){refToSelf.fire("gameOver",account,elapsedTime)}var menuUI,gameUI,wallUI,startButton,exitButton,wallButton,isFadeout,menuSelf,Menu=pc.createScript("menu");function padTo2Digits(t){return t.toString().padStart(2,"0")}function convertMsToTime(t){let e=Math.floor(t/1e3),n=Math.floor(e/60),o=Math.floor(n/60);return e%=60,n%=60,`${padTo2Digits(o)}:${padTo2Digits(n)}:${padTo2Digits(e)}`}function registerCallback(t,e){null!==t?(console.log("Register succesful"),console.log(t)):null!==e&&(console.log("Error in register"),console.log(errorReport(e)))}function loginCallback(t,e){null!==t?(console.log("Login succesful"),console.log(t)):null!==e&&(console.log("Error in login"),console.log(errorReport(e)))}function scoreSentCallback(t,e){null!==t?(console.log("Statistic updated"),console.log(t)):null!==e&&(console.log("Error in update"),console.log(errorReport(e)))}function updateBricksCallback(t,e){null!==t?(console.log("Title data fetched"),console.log(t)):null!==e&&(console.log("Error fetching data"),console.log(errorReport(e)))}function getStatisticsCallback(t,e){null!==t?(console.log("statistics fetched"),console.log(t),console.log(t.data.Statistics[0]),t.data.Statistics.forEach((t=>{console.log(t.StatisticName),"HighScore"==t.StatisticName?(menuUI.findByPath("BestScoreLabel").element.text=t.Value+"",menuSelf.app.fire("menu:scoreupdated",t.Value)):"Bricks"==t.StatisticName&&menuSelf.app.fire("menu:bricksupdated",t.Value)}))):null!==e&&(console.log("Error fetching data"),console.log(errorReport(e)))}function errorReport(t){if(null===t)return"";var e=t.errorMessage;for(var n in t.errorDetails)for(var o in t.errorDetails[n])e+="\n"+n+": "+t.errorDetails[n][o];return e}Menu.attributes.add("gameUIEntity",{type:"entity"}),Menu.attributes.add("wallUIEntity",{type:"entity"}),Menu.attributes.add("fadeOutElement",{type:"entity"}),Menu.prototype.registerUser=function(t,e,n){var o={Username:e,DisplayName:e,Email:t,Password:n};PlayFabClientSDK.RegisterPlayFabUser(o,registerCallback)},Menu.prototype.loginUser=function(t,e){var n={Email:t,Password:e};PlayFabClientSDK.LoginWithEmailAddress(n,loginCallback)},Menu.prototype.sendScore=function(t){var e={Statistics:[{StatisticName:"HighScore",Value:t},{StatisticName:"Bricks",Value:2}]};PlayFabClientSDK.UpdatePlayerStatistics(e,scoreSentCallback)},Menu.prototype.getTitleData=function(){PlayFabClientSDK.GetTitleData({Keys:["TotalBricks"]},updateBricksCallback)},Menu.prototype.initialize=function(){menuSelf=this,menuUI=this.entity.findByPath("Menu"),gameUI=this.entity.findByPath("UI"),wallUI=this.entity.findByPath("Wall"),startButton=this.entity.findByPath("Menu/StartButton"),exitButton=this.entity.findByPath("UI/PausePopup/ExitButton"),instructionsButton=this.entity.findByPath("Menu/InstructionsButton"),wallButton=this.entity.findByPath("Menu/WallButton"),isFadeout=!0,startButton.button.on("click",(function(t){isFadeout=!0,startButton.button.active=!1,wallButton.button.active=!1,setTimeout((()=>{menuUI.enabled=!1,gameUI.enabled=!0,isFadeout=!1,this.fire("startGame")}),2e3)}),this),menuUI.findByPath("LeaderboardButton").button.on("click",(()=>{this.app.fire("menu:openleaderboard")}),this),this.entity.script.authenticatorScript.on("authenticated",(()=>{wallButton.button.active=!0,startButton.button.active=!0,instructionsButton.button.active=!0;PlayFabClientSDK.GetPlayerStatistics({},getStatisticsCallback)}),this),wallButton.button.on("click",(function(t){isFadeout=!0,startButton.button.active=!1,wallButton.button.active=!1,setTimeout((()=>{menuUI.enabled=!1,wallUI.enabled=!0,isFadeout=!1}),2e3)}),this),instructionsButton.button.on("click",(function(t){this.entity.findByPath("Menu/InstructionsPopup").enabled=!0}),this),this.gameUIEntity.script.main.on("gameOver",showMenu),this.gameUIEntity.script.main.on("scoreupdated",(()=>{PlayFabClientSDK.GetPlayerStatistics({},getStatisticsCallback)})),this.wallUIEntity.script.wall.on("showMenu",(function(t){menuUI.enabled=!0,startButton.button.active=!0,wallButton.button.active=!0}),this),setTimeout((()=>{}),5e3)};const clamp=(t,e,n)=>Math.min(Math.max(t,e),n);function showMenu(t,e){startButton.button.active=!0,wallButton.button.active=!0,isFadeout=!0,exitButton.button.active=!1,setTimeout((()=>{menuUI.enabled=!0,gameUI.enabled=!1,exitButton.button.active=!0,isFadeout=!1}),2e3),console.log(t.score)}Menu.prototype.update=function(t){this.fadeOutElement.element.opacity=clamp(isFadeout?this.fadeOutElement.element.opacity+1*t:this.fadeOutElement.element.opacity-1*t,0,1)};var wallSelf,Wall=pc.createScript("wall");function playWallAnimation(){console.log("updating wall");PlayFabClientSDK.GetTitleData({},updateWallCallback)}function updateBricks(t){wallSelf.entity.findByPath("BrickLabel").element.text=t+""}function updateWall(){console.log("updating wall");PlayFabClientSDK.GetTitleData({},updateWallCallback)}function updateWallCallback(t,e){if(null!==t){console.log("Wall updated"),console.log(t);const e=parseInt(t.data.Data.TotalBricks)/wallSelf.maxBricks*10;wallSelf.entity.findByPath("CompletionLabel").element.text=10*e+"%",wallSelf.entity.findByPath("TotalBricksLabel").element.text=t.data.Data.TotalBricks,console.log(e),wallSelf.currentLevel=Math.floor(e),wallSelf.setWallLevel()}else null!==e&&(console.log("Error in register"),console.log(errorReport(e)))}Wall.attributes.add("pieces",{type:"entity",array:!0,title:"Wall Pieces"}),Wall.attributes.add("menuEntity",{type:"entity"}),Wall.prototype.initialize=function(){wallSelf=this,this.currentLevel=-1,this.wallMaxLevel=this.pieces.length,this.maxBricks=1e6,this.menuEntity.script.menu.on("openWall",playWallAnimation),this.app.on("menu:bricksupdated",updateBricks),this.app.on("authenticated",updateWall),this.entity.findByPath("ExitButton").button.on("click",(function(t){isFadeout=!0,setTimeout((()=>{this.entity.enabled=!1,isFadeout=!1,this.fire("showMenu")}),2e3)}),this),this.entity.findByPath("PlusButton").button.on("click",(function(t){this.currentLevel=clamp(this.currentLevel+1,-1,this.wallMaxLevel-1),this.setWallLevel()}),this),this.entity.findByPath("MinusButton").button.on("click",(function(t){this.currentLevel=clamp(this.currentLevel-1,-1,this.wallMaxLevel-1),console.log(this.currentLevel),this.setWallLevel()}),this)},Wall.prototype.update=function(t){},Wall.prototype.setWallLevel=function(){for(var t=0;t<this.wallMaxLevel;t++)t<=this.currentLevel?(this.pieces[t].enabled=!0,console.log("piece "+t+" enabled")):this.pieces[t].enabled=!1};var AnimateSprite=pc.createScript("animateSprite");AnimateSprite.attributes.add("startFrame",{type:"number",default:0,description:"Frame to start animation from"}),AnimateSprite.attributes.add("numFrames",{type:"number",default:1,description:"Number of frames to play before looping"}),AnimateSprite.attributes.add("frameRate",{type:"number",default:1,description:"Playback frames per second"}),AnimateSprite.prototype.initialize=function(){this.timer=1/this.frameRate,this.frame=this.startFrame},AnimateSprite.prototype.update=function(t){this.timer-=t,this.timer<0&&(this.frame++,this.frame>=this.numFrames+this.startFrame&&(this.frame=this.startFrame),this.entity.element.spriteFrame=this.frame,this.timer=1/this.frameRate)};var MoveSprite=pc.createScript("moveSprite");MoveSprite.attributes.add("startPosition",{type:"vec2"}),MoveSprite.attributes.add("endPosition",{type:"vec2"}),MoveSprite.attributes.add("duration",{type:"number"}),MoveSprite.attributes.add("loop",{type:"boolean"}),MoveSprite.attributes.add("loopInterval",{type:"number"}),MoveSprite.attributes.add("playOnAwake",{type:"boolean"}),MoveSprite.prototype.initialize=function(){this.startX=this.startPosition.x,this.startY=this.startPosition.y,this.currentVal=0,this.setPosition(0),this.loopCountdown=this.loopInterval,this.speed=1/this.duration},MoveSprite.prototype.update=function(t){this.loopCountdown-=t,this.loopCountdown<=0&&(this.currentVal+=t*this.speed,this.setPosition(this.currentVal),this.currentVal>=1&&(this.currentVal=0,this.loopCountdown=this.loopInterval))},MoveSprite.prototype.setPosition=function(t){t=pc.math.clamp(t,0,1);var i=pc.math.lerp(this.startPosition.x,this.endPosition.x,t),o=pc.math.lerp(this.startPosition.y,this.endPosition.y,t);this.entity.setLocalPosition(i,o,0)};var IntroSequence=pc.createScript("introSequence");IntroSequence.attributes.add("fadeOutElement",{type:"entity"}),IntroSequence.prototype.initialize=function(){isFadeout=!1;var e=0;this.fadeOutElement.element.opacity=1,e+=3500,setTimeout((()=>{isFadeout=!0}),e),e+=2e3,setTimeout((()=>{isFadeout=!1,this.entity.findByPath("LogoLiga").enabled=!1,this.entity.findByPath("LogoUmbro").enabled=!0}),e),e+=2e3,setTimeout((()=>{isFadeout=!0}),e),e+=2e3,setTimeout((()=>{isFadeout=!1,this.entity.findByPath("LogoUmbro").enabled=!1,this.entity.findByPath("LogoTentmakers").enabled=!0}),e),e+=2e3,setTimeout((()=>{isFadeout=!0}),e),e+=2e3,setTimeout((()=>{isFadeout=!1,this.entity.enabled=!1}),e)},IntroSequence.prototype.update=function(e){};var WelcomePopup=pc.createScript("welcomePopup");WelcomePopup.prototype.initialize=function(){var t=!1;this.entity.findByPath("BG/ExitButton").button.on("click",(function(n){this.entity.enabled=!1,this.entity.parent.findByPath("LoginPopup").enabled=!0,t=!0}),this),this.entity.findByPath("InstructionsButton").button.on("click",(function(t){this.entity.enabled=!1,this.entity.parent.findByPath("InstructionsPopup").enabled=!0}),this),this.entity.parent.findByPath("InstructionsPopup/BG/ExitButton").button.on("click",(function(n){t||(this.entity.parent.findByPath("LoginPopup").enabled=!0,t=!0)}),this)},WelcomePopup.prototype.update=function(t){};var PagedPopup=pc.createScript("pagedPopup");PagedPopup.attributes.add("pages",{type:"entity",array:!0,title:"Pages"}),PagedPopup.prototype.initialize=function(){this.currentPage=0,this.totalPages=this.pages.length,this.entity.findByPath("BG/NextButton").button.on("click",(function(t){this.pages[this.currentPage].enabled=!1,this.currentPage++,this.currentPage+1>=this.totalPages&&(this.entity.findByPath("BG/NextButton").enabled=!1),this.pages[this.currentPage].enabled=!0}),this),this.entity.findByPath("BG/ExitButton").button.on("click",(function(t){this.entity.enabled=!1,this.pages[0].enabled=!0,this.currentPage=0,this.entity.findByPath("BG/NextButton").enabled=!0;for(var e=1;e<this.totalPages;e++)this.pages[e].enabled=!1}),this)},PagedPopup.prototype.update=function(t){};var GamePrompter=pc.createScript("gamePrompter"),showTetrisPrompt=!0;GamePrompter.prototype.initialize=function(){this.startX=this.entity.getLocalPosition().x,this.startY=this.entity.getLocalPosition().y,this.currentVal=0,this.setPosition(0),this.speed=2,showTetrisPrompt=!1,this.hidePrompt=!1,this.app.on("main:tetrisprompt",(function(){showTetrisPrompt=!0,console.log("show tetris prompt")}))},GamePrompter.prototype.update=function(t){showTetrisPrompt?(this.currentVal+=t*this.speed,this.setPosition(this.currentVal),this.currentVal>=1&&(showTetrisPrompt=!1,setTimeout((()=>{this.hidePrompt=!0}),3e3))):this.hidePrompt&&(this.currentVal-=t*this.speed,this.setPosition(this.currentVal),this.currentVal<=0&&(this.hidePrompt=!1))},GamePrompter.prototype.setPosition=function(t){t=pc.math.clamp(t,0,1);var i=pc.math.lerp(this.startX,0,t);console.log("Porra chunche position x "+i),this.entity.setLocalPosition(i,this.startY,0)};var UiInputField=pc.createScript("uiInputField");UiInputField.attributes.add("textEntity",{type:"entity",title:"Text Entity",description:"The Entity that has the text Element to update with the inputted text."}),UiInputField.attributes.add("inputType",{type:"string",title:"Input Type",description:"What type of input will this field accept. On some devices, the virtual keyboard layout may change as well. For example, 'Number' will bring up a numpad instead of the full keyboard.",default:"text",enum:[{Text:"text"},{"Text (no spellcheck)":"text no spellcheck"},{Email:"email"},{Number:"number"},{Decimal:"decimal"},{Password:"password"}]}),UiInputField.attributes.add("enterKeyHint",{type:"string",title:"Enter Key Hint",description:"Change what the enter key shows on the virutal keyboard. Different OSs will have different representations of the hint.",default:"enter",enum:[{Enter:"enter"},{Done:"done"},{Go:"go"},{Search:"search"},{Send:"send"}]}),UiInputField.attributes.add("maxLength",{type:"number",default:32,title:"Max Length",description:"Maximum length of the text can be."}),UiInputField.attributes.add("placeHolder",{type:"string",default:"Placeholder text...",title:"Place Holder String",description:"When the inputted text is empty, what should show as placeholder? Usually this is a prompt such as 'Enter your email here'."}),UiInputField.attributes.add("placeHolderColor",{type:"rgb",title:"Place Holder Text Color",description:"What color the text should be when the placeholder string is used."}),UiInputField.prototype.initialize=function(){this._textElement=this.textEntity.element,this._textColor=this._textElement.color.clone(),this.value="",this.setEvents("on"),this.on("destroy",(()=>{this.setEvents("off")})),this._onValueChange("")},UiInputField.prototype.setEvents=function(t){this.entity[t]("uiinput:updatevalue",this._onValueChange,this),this.entity.element[t]("click",this._onClick,this)},UiInputField.prototype._onValueChange=function(t){if(this.value=t,t.length>0){if("password"===this.inputType){let e="";for(let i=0;i<t.length;++i)e+="*";this._textElement.text=e}else this._textElement.text=t;this._textElement.color=this._textColor}else this._textElement.text=this.placeHolder,this._textElement.color=this.placeHolderColor;this.entity.fire("updatedvalue",t),console.log("value changed")},UiInputField.prototype._onClick=function(t){this.app.fire("uiinput:clicked",this,t)};!function(){const e=function getIosVersion(){if(/iP(hone|od|ad)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]}return null}();document.documentElement.style.setProperty("--sat","env(safe-area-inset-top)"),document.documentElement.style.setProperty("--sab","env(safe-area-inset-bottom)"),document.documentElement.style.setProperty("--sal","env(safe-area-inset-left)"),document.documentElement.style.setProperty("--sar","env(safe-area-inset-right)");const t=pc.Application.getApplication();let n=null;function createInputDom(){n&&n.remove(),n=document.createElement("input"),n.setAttribute("type","text"),n.style.position="absolute",n.style.fontFamily="Arial, sans-serif",n.style.background="white",n.style.paddingLeft="10px",n.style.paddingRight="10px",n.style.margin="0px",n.style.visibility="hidden",n.style.zIndex=1e3,resetStyle(),n.value="",document.body.appendChild(n)}createInputDom();let o=!1,i=!1,l=null;function onInputFieldClick(e,t){t.stopPropagation(),function showDom(e,t){if(i===e)return;i&&i!==e&&onBlur();i=e,"visible"!==n.style.visibility&&(t.changedTouches?(t.event.preventDefault(),o=!1):o=!0,n.style.visibility="visible",n.onblur=onBlur,n.addEventListener("keydown",onKeyDown),n.addEventListener("keyup",onKeyUp));switch(n.value=e.value,n.maxLength=e.maxLength,n.placeholder=e.placeHolder,n.pattern=null,n.spellcheck=!1,e.inputType){case"text":default:n.type="text",n.spellcheck=!0;break;case"text no spellcheck":n.type="text";break;case"number":n.type="number",n.pattern="[0-9]*";break;case"decimal":n.type="number";break;case"email":n.type="email";break;case"password":n.type="password"}n.enterKeyHint=e.enterKeyHint,n.focus(),updateStyle(),i.entity.element.on("resize",updateStyle)}(e,t)}function onBlur(){n.onblur=null,n.removeEventListener("keydown",onKeyDown),n.removeEventListener("keyup",onKeyUp),n.style.visibility="hidden",function onElementSwitch(){i.entity.fire("uiinput:updatevalue",n.value),i.entity.element.off("resize",updateStyle),"password"===i.inputType&&createInputDom(),i=null}()}function onKeyDown(e){e.stopPropagation()}function onKeyUp(e){e.preventDefault(),e.stopPropagation(),13===e.keyCode&&n.blur()}function resetStyle(){const e=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--sal")),t=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--sar"));n.style.left="20px",n.style.height="40px",n.style.width=window.innerWidth-64-e-t+"px",n.style.fontSize="100%",n.style.top="20px",n.style.marginTop="env(safe-area-inset-top)",n.style.marginLeft="env(safe-area-inset-left)",n.style.bottom=null}function updateStyle(){if(i)if(o&&i.entity.element.screenCorners){const e=i.entity.element.screenCorners;console.log(e);const o=Math.min(t.graphicsDevice.maxPixelRatio,window.devicePixelRatio),l=t.graphicsDevice.canvas.offsetLeft;console.log(t.graphicsDevice.maxPixelRatio),console.log(window.devicePixelRatio),n.style.left=l+e[0].x+"px",n.style.bottom=e[0].y+"px",n.style.top=null;const s=(e[2].x-e[0].x)/o-20,a=(e[2].y-e[0].y)/o;n.style.width=s+"px",n.style.height=a+"px",n.style.fontSize=Math.round(.5*a)+"px"}else resetStyle()}function onIosResizeTimeout(){t.on("uiinput:clicked",onInputFieldClick),l=null}e?l=setTimeout(onIosResizeTimeout,2100):t.on("uiinput:clicked",onInputFieldClick),t.graphicsDevice.on("resizecanvas",(function onResize(){e&&!l&&(t.off("uiinput:clicked",onInputFieldClick),l=setTimeout(onIosResizeTimeout,2100)),setTimeout((()=>{updateStyle()}))}))}();var AuthenticatorScript=pc.createScript("authenticatorScript");AuthenticatorScript.attributes.add("loginPopup",{type:"entity"}),AuthenticatorScript.attributes.add("signupPopup",{type:"entity"});var authRef=null;function loginCallback(t,i){null!==t?(authRef.loginPopup.enabled=!1,console.log(t),authRef.fire("authenticated"),authRef.app.fire("authenticated")):null!==i&&(console.log("Error in login"),console.log(errorReport(i)))}function registerCallback(t,i){null!==t?(authRef.signupPopup.enabled=!1,console.log(t),authRef.fire("authenticated")):null!==i&&(console.log("Error in sign up"),console.log(errorReport(i)))}AuthenticatorScript.prototype.loginUser=function(t,i){var n={Email:t,Password:i};PlayFabClientSDK.LoginWithEmailAddress(n,loginCallback)},AuthenticatorScript.prototype.registerUser=function(t,i,n,o){if(n===o){var e={Username:t,DisplayName:t,Email:i,Password:n};PlayFabClientSDK.RegisterPlayFabUser(e,registerCallback)}},AuthenticatorScript.prototype.initialize=function(){authRef=this,this.loginPopup.findByPath("LoginButton").button.on("click",(()=>{const t=this.loginPopup.findByPath("EmailInput").script.uiInputField.value,i=this.loginPopup.findByPath("PasswordInput").script.uiInputField.value;console.log(t+" "+i),this.loginUser(t,i)}),this),this.loginPopup.findByPath("CreateAccButton").button.on("click",(()=>{this.loginPopup.enabled=!1,this.signupPopup.enabled=!0}),this),this.signupPopup.findByPath("CreateAccButton").button.on("click",(()=>{const t=this.signupPopup.findByPath("EmailInput").script.uiInputField.value,i=this.signupPopup.findByPath("UsernameInput").script.uiInputField.value,n=this.signupPopup.findByPath("PasswordInput").script.uiInputField.value,o=this.signupPopup.findByPath("ConfirmPasswordInput").script.uiInputField.value;this.registerUser(i,t,n,o)}),this),this.signupPopup.findByPath("GoLoginButton").button.on("click",(()=>{this.loginPopup.enabled=!0,this.signupPopup.enabled=!1}),this)},AuthenticatorScript.prototype.update=function(t){};var leaderboardRef,Leaderboard=pc.createScript("leaderboard");function openLeaderboard(){updateLeaderboard(),leaderboardRef.entity.enabled=!0}function updateLeaderboard(){PlayFabClientSDK.GetLeaderboard({StatisticName:"HighScore",MaxResultsCount:10},updateLeaderboardCallback)}function updateScore(e){leaderboardRef.scoreLabel.element.text=e+""}function updateLeaderboardCallback(e,a){if(null!==e){console.log("Leaderboard updated"),console.log(e);for(var t=0;t<10;t++)t<e.data.Leaderboard.length?(leaderboardRef.positions[t].findByPath("PlayerLabel").element.text=e.data.Leaderboard[t].DisplayName,leaderboardRef.positions[t].findByPath("ScoreLabel").element.text=e.data.Leaderboard[t].StatValue+"",leaderboardRef.positions[t].enabled=!0):leaderboardRef.positions[t].enabled=!1}else null!==a&&(console.log("Error in register"),console.log(errorReport(a)))}Leaderboard.attributes.add("positions",{type:"entity",array:!0,title:"Position Slots"}),Leaderboard.attributes.add("scoreLabel",{type:"entity",title:"Player score label"}),Leaderboard.prototype.initialize=function(){leaderboardRef=this,this.app.on("menu:scoreupdated",updateScore),this.app.on("authenticated",updateLeaderboard),this.app.on("menu:openleaderboard",openLeaderboard),this.entity.findByPath("ExitButton").button.on("click",(()=>{this.entity.enabled=!1}),this),setTimeout((()=>{leaderboardRef.entity.enabled=!1}),1e3)},Leaderboard.prototype.update=function(e){};